{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Assignment Grading</title>
    <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}"/>
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@300;400;500;600;700&display=swap"
          rel="stylesheet">
    <script src="{% static 'js/bootstrap.bundle.js' %}"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

    <style>
        body {
            background: #080F2B;
            font-family: 'Rajdhani', sans-serif;
            color: #12A78A;
        }

        .head {
            font-size: 80px;
            font-weight: 300;
            text-align: left;
            color: #fff;
        }

        .head hr {
            border: 1px solid #12A78A;
            width: 100%;
            margin: 0;
        }

        .link {
            display: inline-flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            color: white;
            text-decoration: none;
            text-align: center;
        }

        .link:hover {
            text-decoration: underline;
            color: #12A78A;
        }

        .rectangle {
            width: 130px;
            height: 170px;
            border: 3px dashed #12A78A;
            border-radius: 12px;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: transform 0.2s ease-in-out;
            font-size: 40px;
            color: #12A78A;
            background: transparent;
        }

        .rectangle:hover {
            transform: scale(1.05);
            cursor: pointer;
            background: rgba(18,167,138,0.1);
        }

        /* NEW solid rectangle */
        .rectangle-solid {
            width: 130px;
            height: 170px;
            border: 3px solid #12A78A;
            border-radius: 12px;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: transform 0.2s ease-in-out;
            font-size: 40px;
            color: #12A78A;
            background: transparent;
        }

        .rectangle-solid:hover {
            transform: scale(1.05);
            cursor: pointer;
            background: rgba(18,167,138,0.1);
        }

        #loadingMessage {
            display: none;
            margin-top: 20px;
            font-size: 22px;
            color: #fff;
        }

        .info-btn {
            position: absolute;
            bottom: 20px;
            left: 20px;
            border: none;
            background: transparent;
            color: #12A78A;
            font-size: 28px;
            cursor: pointer;
        }
        .info-btn:hover { color: #fff; }

            .home-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            border: none;
            background: transparent;
            color: #12A78A;
            font-size: 28px;
            cursor: pointer;
        }
        .home-btn:hover { color: #fff; }


    </style>
</head>
<body>
<div class="head container text-white">
    <p class="pt-5 mb-0">Assignment Grading</p>
    <hr class="mt-0">
</div>

<a href="{% url 'index' %}" class="home-btn">
    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="white" class="bi bi-house-door"
         viewBox="0 0 16 16">
        <path d="M8.354 1.146a.5.5 0 0 0-.708 0L1 7.793V14.5A1.5 1.5 0 0 0 2.5 16h3a.5.5 0 0 0 .5-.5V11a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v4.5a.5.5 0 0 0 .5.5h3A1.5 1.5 0 0 0 15 14.5V7.793l-6.646-6.647z"/>
        <path d="M13 2.5v6.793l-5-5-5 5V2.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5z"/>
    </svg>
</a>

<div class="container mt-5">
    <!-- make them side by side with d-flex -->
    <div class="d-flex flex-row gap-5 align-items-start">
        <a href="javascript:void(0);" id="notesLink" class="link">
            <div id="import" class="rectangle">
                <i class="bi bi-upload"></i>
            </div>
            <input type="file" id="notesFile" style="display: none;" accept=".txt,.pdf,.doc,.docx"/>
            <span>Add file to check</span>
        </a>

        <a href="javascript:void(0);" id="hcidLink" class="link">
            <div class="rectangle-solid">
                <i class="bi bi-folder"></i>
            </div>
            <span>HCID</span>
        </a>
    </div>

    <a href="{% url 'assignment_grading_info' %}" class="info-btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="white" class="bi bi-info-circle"
             viewBox="0 0 16 16">
            <path d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zM8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0z"/>
            <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105
        1.319.808 1.319.545 0 .875-.252 1.02-.598l.088-.416c.066-.31.137-.42.424-.42h.545l.082-.38h-.545c-.294
        0-.352-.176-.288-.469l.738-3.468c.194-.897-.105-1.319-.808-1.319-.545 0-.875.252-1.02.598l-.088.416z"/>
            <circle cx="8" cy="4.5" r="1"/>
        </svg>
    </a>

    <div id="loadingMessage">Checking the file...</div>
</div>

<script>
    const notesLink = document.getElementById("notesLink");
    const notesFile = document.getElementById("notesFile");
    const loadingMessage = document.getElementById("loadingMessage");

    notesLink.addEventListener("click", () => {
        notesFile.click();
    });

    notesFile.addEventListener("change", () => {
        if (notesFile.files.length > 0) {
            loadingMessage.style.display = "block";

            setTimeout(() => {
                loadingMessage.textContent = "File checked successfully!";
            }, 3000);
        }
    });

     document.getElementById("hcidLink").addEventListener("click", () => {
        window.location.href = "http://127.0.0.1:8000/hcid/";
    });
</script>

</body>
</html>
